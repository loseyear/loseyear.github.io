import{R as e,j as n,r as t,a as r,F as l}from"./index-22a28ab4.js";const{createElement:i,createContext:o,forwardRef:a,useCallback:s,useContext:u,useEffect:c,useImperativeHandle:d,useLayoutEffect:f,useMemo:m,useRef:h,useState:p}=e,g=e["useId".toString()];var v=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement)?f:()=>{};const z="function"==typeof g?g:()=>null;let w=0;function b(e=null){const n=z(),t=h(e||n||null);return null===t.current&&(t.current=""+w++),t.current}const y=o(null);function S({children:e=null,className:n="",collapsible:t=!1,defaultSize:r=null,forwardedRef:l,id:o=null,maxSize:a=100,minSize:s=10,onCollapse:f=null,onResize:m=null,order:p=null,style:g={},tagName:z="div"}){const w=u(y);if(null===w)throw Error("Panel components must be rendered within a PanelGroup container");const S=b(o),{collapsePanel:x,expandPanel:E,getPanelStyle:R,registerPanel:I,resizePanel:N,unregisterPanel:k}=w,C=h({onCollapse:f,onResize:m});if(c((()=>{C.current.onCollapse=f,C.current.onResize=m})),s<0||s>100)throw Error(`Panel minSize must be between 0 and 100, but was ${s}`);if(a<0||a>100)throw Error(`Panel maxSize must be between 0 and 100, but was ${a}`);if(null!==r){if(r<0||r>100)throw Error(`Panel defaultSize must be between 0 and 100, but was ${r}`);s>r&&!t&&(r=s)}v((()=>(I(S,{callbacksRef:C,collapsible:t,defaultSize:r,id:S,maxSize:a,minSize:s,order:p}),()=>{k(S)})),[t,r,S,a,s,p,I,k]);const L=R(S),H=h({size:P(L)});return v((()=>{H.current.size=P(L)})),d(l,(()=>({collapse:()=>x(S),expand:()=>E(S),getCollapsed:()=>0===H.current.size,getSize:()=>H.current.size,resize:e=>N(S,e)})),[x,E,S,N]),i(z,{children:e,className:n,"data-panel":"","data-panel-collapsible":t||void 0,"data-panel-id":S,"data-panel-size":parseFloat(""+L.flexGrow).toFixed(1),id:`data-panel-id-${S}`,style:{...L,...g}})}y.displayName="PanelGroupContext";const x=a(((e,n)=>i(S,{...e,forwardedRef:n})));function P(e){const{flexGrow:n}=e;return"string"==typeof n?parseFloat(n):n}function E(e){return e.map((e=>{const{minSize:n,order:t}=e;return t?`${t}:${n}`:`${n}`})).sort(((e,n)=>e.localeCompare(n))).join(",")}function R(e,n){try{const t=n.getItem(`PanelGroup:sizes:${e}`);if(t){const e=JSON.parse(t);if("object"==typeof e&&null!=e)return e}}catch(t){}return null}S.displayName="Panel",x.displayName="forwardRef(Panel)";const I=10;function N(e,n,t,r,l,i,o,a){const{sizes:s}=a||{},u=s||i;if(0===l)return u;const c=$(n),d=u.concat();let f=0;{const n=l<0?r:t,i=c.findIndex((e=>e.id===n)),a=c[i],s=u[i],d=G(a,Math.abs(l),s,e);if(s===d)return u;0===d&&s>0&&o.set(n,s),l=l<0?s-d:d-s}let m=l<0?t:r,h=c.findIndex((e=>e.id===m));for(;;){const n=c[h],t=u[h],r=G(n,0-(Math.abs(l)-Math.abs(f)),t,e);if(t!==r&&(0===r&&t>0&&o.set(n.id,t),f+=t-r,d[h]=r,f.toPrecision(I).localeCompare(Math.abs(l).toPrecision(I),void 0,{numeric:!0})>=0))break;if(l<0){if(--h<0)break}else if(++h>=c.length)break}return 0===f?u:(m=l<0?r:t,h=c.findIndex((e=>e.id===m)),d[h]=u[h]+f,d)}function k(e,n,t){t.forEach(((t,r)=>{const l=n[r];if(l!==t){const{callbacksRef:n,collapsible:i}=e[r],{onCollapse:o,onResize:a}=n.current;a&&a(t),i&&o&&(l||0===t?0!==l&&0===t&&o(!0):o(!1))}}))}function C(e,n){if(n.length<2)return[null,null];const t=n.findIndex((n=>n.id===e));if(t<0)return[null,null];const r=t===n.length-1;return[r?n[t-1].id:e,r?e:n[t+1].id]}function L(e,n,t){if(1===e.size)return"100";const r=t[$(e).findIndex((e=>e.id===n))];return null==r?"0":r.toPrecision(I)}function H(e){const n=document.querySelector(`[data-panel-group-id="${e}"]`);return n||null}function A(e){const n=document.querySelector(`[data-panel-resize-handle-id="${e}"]`);return n||null}function M(){return Array.from(document.querySelectorAll("[data-panel-resize-handle-id]"))}function D(e){return Array.from(document.querySelectorAll(`[data-panel-resize-handle-id][data-panel-group-id="${e}"]`))}function B(e,n,t){var r,l;const i=A(n),o=D(e),a=i?o.indexOf(i):-1;var s;var u;return[null!==(s=null===(r=t[a])||void 0===r?void 0:r.id)&&void 0!==s?s:null,null!==(u=null===(l=t[a+1])||void 0===l?void 0:l.id)&&void 0!==u?u:null]}function $(e){return Array.from(e.values()).sort(((e,n)=>{const t=e.order,r=n.order;return null==t&&null==r?0:null==t?-1:null==r?1:t-r}))}function G(e,n,t,r){const l=t+n;if(e.collapsible)if(t>0){if(l<=0)return 0}else{var i;if(!(null==r||null===(i=r.type)||void 0===i?void 0:i.startsWith("key"))&&l<e.minSize)return 0}return Math.min(e.maxSize,Math.max(e.minSize,l))}function V(e,n,t,r=0,l=null){const i="horizontal"===t;let o=0;if(O(e))o=i?e.clientX:e.clientY;else{if(!T(e))return 0;{const n=e.touches[0];o=i?n.screenX:n.screenY}}const a=A(n),s=l||a.getBoundingClientRect();return o-(i?s.left:s.top)-r}function O(e){return e.type.startsWith("mouse")}function T(e){return e.type.startsWith("touch")}function q({committedValuesRef:e,groupId:n,panels:t,setSizes:r,sizes:l,panelSizeBeforeCollapse:i}){c((()=>{const{direction:t,panels:o}=e.current,a=H(n),{height:s,width:u}=a.getBoundingClientRect(),c=D(n).map((e=>{const a=e.getAttribute("data-panel-resize-handle-id"),c=$(o),[d,f]=B(n,a,c);if(null==d||null==f)return()=>{};let m=0,h=100,p=0,g=0;c.forEach((e=>{e.id===d?(h=e.maxSize,m=e.minSize):(p+=e.minSize,g+=e.maxSize)}));const v=Math.min(h,100-p),z=Math.max(m,100*(c.length-1)-g),w=L(o,d,l);e.setAttribute("aria-valuemax",""+Math.round(v)),e.setAttribute("aria-valuemin",""+Math.round(z)),e.setAttribute("aria-valuenow",""+Math.round(parseInt(w)));const b=e=>{if(!e.defaultPrevented)switch(e.key){case"Enter":{e.preventDefault();const n=c.findIndex((e=>e.id===d));if(n>=0){const a=c[n],m=l[n];if(null!=m){let n=0;n=m.toPrecision(I)<=a.minSize.toPrecision(I)?"horizontal"===t?u:s:-("horizontal"===t?u:s);const c=N(e,o,d,f,n,l,i.current,null);l!==c&&r(c)}}break}}};e.addEventListener("keydown",b);const y=(S=d,document.querySelector(`[data-panel-id="${S}"]`)||null);var S;return null!=y&&e.setAttribute("aria-controls",y.id),()=>{e.removeAttribute("aria-valuemax"),e.removeAttribute("aria-valuemin"),e.removeAttribute("aria-valuenow"),e.removeEventListener("keydown",b),null!=y&&e.removeAttribute("aria-controls")}}));return()=>{c.forEach((e=>e()))}}),[e,n,t,i,r,l])}function F({disabled:e,handleId:n,resizeHandler:t}){c((()=>{if(e||null==t)return;const r=A(n);if(null==r)return;const l=e=>{if(!e.defaultPrevented)switch(e.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":e.preventDefault(),t(e);break;case"F6":{e.preventDefault();const t=M(),r=function(e){const n=M().findIndex((n=>n.getAttribute("data-panel-resize-handle-id")===e));return null!=n?n:null}(n);!function(e,n="Assertion failed!"){if(!e)throw Error(n)}(null!==r);t[e.shiftKey?r>0?r-1:t.length-1:r+1<t.length?r+1:0].focus();break}}};return r.addEventListener("keydown",l),()=>{r.removeEventListener("keydown",l)}}),[e,n,t])}let j=null,U=null;function W(e){switch(e){case"horizontal":return"col-resize";case"horizontal-max":return"w-resize";case"horizontal-min":return"e-resize";case"vertical":return"row-resize";case"vertical-max":return"n-resize";case"vertical-min":return"s-resize"}}function J(e){if(j===e)return;j=e;const n=W(e);null===U&&(U=document.createElement("style"),document.head.appendChild(U)),U.innerHTML=`*{cursor: ${n}!important;}`}const K=function(e,n=10){let t=null;return(...r)=>{null!==t&&clearTimeout(t),t=setTimeout((()=>{e(...r)}),n)}}((function(e,n,t,r){const l=E(n),i=R(e,r)||{};i[l]=t;try{r.setItem(`PanelGroup:sizes:${e}`,JSON.stringify(i))}catch(o){}}),100);function X(){throw new Error('PanelGroup "storage" prop required for server rendering.')}const Y={getItem:"undefined"!=typeof localStorage?e=>localStorage.getItem(e):X,setItem:"undefined"!=typeof localStorage?(e,n)=>localStorage.setItem(e,n):X};function Z({autoSaveId:e,children:n=null,className:t="",direction:r,disablePointerEventsDuringResize:l=!1,id:o=null,onLayout:a,storage:u=Y,style:d={},tagName:f="div"}){const g=b(o),[z,w]=p(null),[S,x]=p(new Map),P=h(null),M=h({onLayout:a});c((()=>{M.current.onLayout=a}));const[D,G]=p([]),F=h(new Map),W=h(0),X=h({direction:r,panels:S,sizes:D});v((()=>{X.current.direction=r,X.current.panels=S,X.current.sizes=D})),q({committedValuesRef:X,groupId:g,panels:S,setSizes:G,sizes:D,panelSizeBeforeCollapse:F}),c((()=>{const{onLayout:e}=M.current;if(e){const{sizes:n}=X.current;n.length>0&&e(n)}}),[D]);const Z=h(!1);v((()=>{if(Z.current)return;const{panels:e,sizes:n}=X.current;if(n.length>0){Z.current=!0;k($(e),[],n)}}),[D]),v((()=>{if(X.current.sizes.length===S.size)return;let n=null;if(e){const t=$(S);n=function(e,n,t){const r=R(e,t);var l;return r&&null!==(l=r[E(n)])&&void 0!==l?l:null}(e,t,u)}if(null!=n)G(n);else{const e=$(S);let n=0,t=0,r=0;if(e.forEach((e=>{r+=e.minSize,null===e.defaultSize?n++:t+=e.defaultSize})),t>100)throw new Error("The sum of the defaultSize of all panels in a group cannot exceed 100.");if(r>100)throw new Error("The sum of the minSize of all panels in a group cannot exceed 100.");G(e.map((e=>null===e.defaultSize?(100-t)/n:e.defaultSize)))}}),[e,S,u]),c((()=>{if(e){if(0===D.length||D.length!==S.size)return;const n=$(S);K(e,n,D,u)}}),[e,S,D,u]);const Q=s((e=>{const{panels:n}=X.current;if(0===n.size)return{flexBasis:"auto",flexGrow:1,flexShrink:1,overflow:"hidden"};return{flexBasis:0,flexGrow:L(n,e,D),flexShrink:1,overflow:"hidden",pointerEvents:l&&null!==z?"none":void 0}}),[z,l,D]),_=s(((e,n)=>{x((t=>{if(t.has(e))return t;const r=new Map(t);return r.set(e,n),r}))}),[]),ee=s((e=>n=>{n.preventDefault();const{direction:t,panels:r,sizes:l}=X.current,i=$(r),[o,a]=B(g,e,i);if(null==o||null==a)return;const s=function(e,n,t,r,l,i,o){const{dragOffset:a=0,dragHandleRect:s,sizes:u}=o||{},c=u||i;if(function(e){return"keydown"===e.type}(e)){const i="horizontal"===l,o=H(n).getBoundingClientRect(),a=i?o.width:o.height,s=a/(e.shiftKey?10:100);let u=0;switch(e.key){case"ArrowDown":u=i?0:s;break;case"ArrowLeft":u=i?-s:0;break;case"ArrowRight":u=i?s:0;break;case"ArrowUp":u=i?0:-s;break;case"End":u=a;break;case"Home":u=-a}const[d,f]=B(n,t,r),m=u<0?d:f,h=r.findIndex((e=>e.id===m)),p=r[h];if(p.collapsible){const e=c[h];0!==e&&e.toPrecision(I)!==p.minSize.toPrecision(I)||(u=u<0?-p.minSize*a:p.minSize*a)}return u}return V(e,t,l,a,s)}(n,g,e,i,t,l,P.current);if(0===s)return;const u=H(g).getBoundingClientRect(),c="horizontal"===t,d=s/(c?u.width:u.height)*100,f=N(n,r,o,a,d,l,F.current,P.current),m=!function(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;t++)if(e[t]!==n[t])return!1;return!0}(l,f);(O(n)||T(n))&&W.current!=d&&J(m?c?"horizontal":"vertical":c?s<0?"horizontal-min":"horizontal-max":s<0?"vertical-min":"vertical-max"),m&&(k(i,l,f),G(f)),W.current=d}),[g]),ne=s((e=>{x((n=>{if(!n.has(e))return n;const t=new Map(n);return t.delete(e),t}))}),[]),te=s((e=>{const{panels:n,sizes:t}=X.current,r=n.get(e);if(null==r||!r.collapsible)return;const l=$(n),i=l.indexOf(r);if(i<0)return;const o=t[i];if(0===o)return;F.current.set(e,o);const[a,s]=C(e,l);if(null==a||null==s)return;const u=N(null,n,a,s,i===l.length-1?o:0-o,t,F.current,null);t!==u&&(k(l,t,u),G(u))}),[]),re=s((e=>{const{panels:n,sizes:t}=X.current,r=n.get(e);if(null==r)return;const l=F.current.get(e)||r.minSize;if(!l)return;const i=$(n),o=i.indexOf(r);if(o<0)return;if(0!==t[o])return;const[a,s]=C(e,i);if(null==a||null==s)return;const u=N(null,n,a,s,o===i.length-1?0-l:l,t,F.current,null);t!==u&&(k(i,t,u),G(u))}),[]),le=s(((e,n)=>{const{panels:t,sizes:r}=X.current,l=t.get(e);if(null==l)return;const i=$(t),o=i.indexOf(l);if(o<0)return;const a=r[o];if(a===n)return;l.collapsible&&0===n||(n=Math.min(l.maxSize,Math.max(l.minSize,n)));const[s,u]=C(e,i);if(null==s||null==u)return;const c=N(null,t,s,u,o===i.length-1?a-n:n-a,r,F.current,null);r!==c&&(k(i,r,c),G(c))}),[]),ie=m((()=>({activeHandleId:z,collapsePanel:te,direction:r,expandPanel:re,getPanelStyle:Q,groupId:g,registerPanel:_,registerResizeHandle:ee,resizePanel:le,startDragging:(e,n)=>{if(w(e),O(n)||T(n)){const t=A(e);P.current={dragHandleRect:t.getBoundingClientRect(),dragOffset:V(n,e,r),sizes:X.current.sizes}}},stopDragging:()=>{null!==U&&(document.head.removeChild(U),j=null,U=null),w(null),P.current=null},unregisterPanel:ne})),[z,te,r,re,Q,g,_,ee,le,ne]),oe={display:"flex",flexDirection:"horizontal"===r?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return i(y.Provider,{children:i(f,{children:n,className:t,"data-panel-group":"","data-panel-group-direction":r,"data-panel-group-id":g,style:{...oe,...d}}),value:ie})}function Q({children:e=null,className:n="",disabled:t=!1,id:r=null,onDragging:l,style:o={},tagName:a="div"}){const d=h(null),f=h({onDragging:l});c((()=>{f.current.onDragging=l}));const m=u(y);if(null===m)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{activeHandleId:g,direction:v,groupId:z,registerResizeHandle:w,startDragging:S,stopDragging:x}=m,P=b(r),E=g===P,[R,I]=p(!1),[N,k]=p(null),C=s((()=>{d.current.blur(),x();const{onDragging:e}=f.current;e&&e(!1)}),[x]);c((()=>{if(t)k(null);else{const e=w(P);k((()=>e))}}),[t,P,w]),c((()=>{if(t||null==N||!E)return;const e=e=>{N(e)},n=e=>{N(e)},r=d.current.ownerDocument;return r.body.addEventListener("contextmenu",C),r.body.addEventListener("mousemove",e),r.body.addEventListener("touchmove",e),r.body.addEventListener("mouseleave",n),window.addEventListener("mouseup",C),window.addEventListener("touchend",C),()=>{r.body.removeEventListener("contextmenu",C),r.body.removeEventListener("mousemove",e),r.body.removeEventListener("touchmove",e),r.body.removeEventListener("mouseleave",n),window.removeEventListener("mouseup",C),window.removeEventListener("touchend",C)}}),[v,t,E,N,C]),F({disabled:t,handleId:P,resizeHandler:N});const L={cursor:W(v),touchAction:"none",userSelect:"none"};return i(a,{children:e,className:n,"data-resize-handle-active":E?"pointer":R?"keyboard":void 0,"data-panel-group-direction":v,"data-panel-group-id":z,"data-panel-resize-handle-enabled":!t,"data-panel-resize-handle-id":P,onBlur:()=>I(!1),onFocus:()=>I(!0),onMouseDown:e=>{S(P,e.nativeEvent);const{onDragging:n}=f.current;n&&n(!0)},onMouseUp:C,onTouchCancel:C,onTouchEnd:C,onTouchStart:e=>{S(P,e.nativeEvent);const{onDragging:n}=f.current;n&&n(!0)},ref:d,role:"separator",style:{...L,...o},tabIndex:0})}Z.displayName="PanelGroup",Q.displayName="PanelResizeHandle";function _({id:e}){return n(Q,{className:"ResizeHandleOuter",id:e,children:n("div",{className:"ResizeHandleInner",children:n("svg",{className:"Icon",viewBox:"0 0 24 24",children:n("path",{fill:"currentColor",d:"M8,18H11V15H2V13H22V15H13V18H16L12,22L8,18M12,2L8,6H11V9H2V11H22V9H13V6H16L12,2Z"})})})})}function ee(){const[e,i]=t.useState(!0),[o,a]=t.useState(!0);return r("div",{className:"Container",children:[n("div",{className:"TopRow",children:r("p",{children:[r("button",{className:"Button",onClick:()=>i(!e),children:[e?"hide":"show"," top panel"]})," ",r("button",{className:"Button",onClick:()=>a(!o),children:[o?"hide":"show"," bottom panel"]})]})}),n("div",{className:"BottomRow",children:r(Z,{autoSaveId:"example",direction:"vertical",children:[e&&r(l,{children:[n(x,{className:"Panel",collapsible:!0,defaultSize:20,order:1,children:n("div",{className:"PanelContent",children:"top"})}),n(_,{})]}),n(x,{className:"Panel",collapsible:!0,order:2,children:n("div",{className:"PanelContent",children:"middle"})}),o&&r(l,{children:[n(_,{}),n(x,{className:"Panel",collapsible:!0,defaultSize:20,order:3,children:n("div",{className:"PanelContent",children:"bottom"})})]})]})})]})}export{ee as default};
