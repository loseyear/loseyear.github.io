<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Docker 常用命令</title>
  <meta name="description" content="请阅读原文: Docker — 从入门到实践">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="http://localhost:4000/cli/2018/07/24/Docker/">
  <link rel="alternate" type="application/rss+xml" title="抠钉" href="http://localhost:4000/feed.xml" />
</head>


  <body>

    <header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="/">抠钉</a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

      <div class="trigger">
        
          
          <a class="page-link" href="/me/">Me</a>
          
        
          
        
          
        
          
        
          
        
          
        
          
          <a class="page-link" href="/tags/">Tags</a>
          
        
          <a class="page-link" href="/canvas/">canvas</a>
          <a class="page-link" href="/tips/">tips</a>
          <a class="page-link" href="/cli/">cli</a>
      </div>
    </nav>

  </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="post">

  <header class="post-header">
    <h1 class="post-title">Docker 常用命令</h1>
    <p class="post-meta">Jul 24, 2018</p>
  </header>

  <article class="post-content">
    <h1 id="请阅读原文-docker--从入门到实践"><a href="https://yeasy.gitbooks.io/docker_practice/">请阅读原文: Docker — 从入门到实践</a></h1>

<p>本文是自己学习摘抄的笔记</p>

<p>镜像: Image
容器: Container
数据卷: Volume
仓库: Repository
标签: Tag</p>

<h2 id="拉取镜像">拉取镜像</h2>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">$</span> <span class="nx">docker</span> <span class="nx">pull</span> <span class="p">[</span><span class="err">选项</span><span class="p">]</span> <span class="p">[</span><span class="nx">Docker</span> <span class="nx">Registry</span> <span class="err">地址</span><span class="p">[:</span><span class="err">端口号</span><span class="p">]</span><span class="o">/</span><span class="p">]</span><span class="err">仓库名</span><span class="p">[:</span><span class="err">标签</span><span class="p">]</span>
<span class="nx">$</span> <span class="nx">docker</span> <span class="nx">pull</span> <span class="nx">ubuntu</span><span class="p">:</span><span class="mf">16.04</span>

<span class="mf">16.04</span><span class="p">:</span> <span class="nx">Pulling</span> <span class="k">from</span> <span class="nx">library</span><span class="o">/</span><span class="nx">ubuntu</span>
<span class="nx">bf5d46315322</span><span class="p">:</span> <span class="nx">Pull</span> <span class="nx">complete</span>
<span class="mi">9</span><span class="nx">f13e0ac480c</span><span class="p">:</span> <span class="nx">Pull</span> <span class="nx">complete</span>
<span class="nx">e8988b5b3097</span><span class="p">:</span> <span class="nx">Pull</span> <span class="nx">complete</span>
<span class="mi">40</span><span class="nx">af181810e7</span><span class="p">:</span> <span class="nx">Pull</span> <span class="nx">complete</span>
<span class="nx">e6f7c7e5c03e</span><span class="p">:</span> <span class="nx">Pull</span> <span class="nx">complete</span>
<span class="nx">Digest</span><span class="p">:</span> <span class="nx">sha256</span><span class="p">:</span><span class="mi">147913621</span><span class="nx">d9cdea08853f6ba9116c2e27a3ceffecf3b492983ae97c3d643fbbe</span>
<span class="nx">Status</span><span class="p">:</span> <span class="nx">Downloaded</span> <span class="nx">newer</span> <span class="nx">image</span> <span class="k">for</span> <span class="nx">ubuntu</span><span class="p">:</span><span class="mf">16.04</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">$</span> <span class="nx">docker</span> <span class="nx">run</span> <span class="o">-</span><span class="nx">it</span> <span class="o">--</span><span class="nx">rm</span> <span class="o">\</span>
    <span class="nx">ubuntu</span><span class="p">:</span><span class="mf">16.04</span> <span class="o">\</span>
    <span class="nx">bash</span>

<span class="nx">root</span><span class="p">@</span><span class="nd">e7009c6ce357</span><span class="p">:</span><span class="o">/</span><span class="err">#</span> <span class="nx">cat</span> <span class="o">/</span><span class="nx">etc</span><span class="o">/</span><span class="nx">os</span><span class="o">-</span><span class="nx">release</span>
<span class="nx">NAME</span><span class="o">=</span><span class="s2">"Ubuntu"</span>
<span class="nx">VERSION</span><span class="o">=</span><span class="s2">"16.04.4 LTS, Trusty Tahr"</span>
<span class="nx">ID</span><span class="o">=</span><span class="nx">ubuntu</span>
<span class="nx">ID_LIKE</span><span class="o">=</span><span class="nx">debian</span>
<span class="nx">PRETTY_NAME</span><span class="o">=</span><span class="s2">"Ubuntu 16.04.4 LTS"</span>
<span class="nx">VERSION_ID</span><span class="o">=</span><span class="s2">"16.04"</span>
<span class="nx">HOME_URL</span><span class="o">=</span><span class="s2">"http://www.ubuntu.com/"</span>
<span class="nx">SUPPORT_URL</span><span class="o">=</span><span class="s2">"http://help.ubuntu.com/"</span>
<span class="nx">BUG_REPORT_URL</span><span class="o">=</span><span class="s2">"http://bugs.launchpad.net/ubuntu/"</span>

<span class="o">-</span><span class="nx">it</span><span class="err">：这是两个参数，一个是</span> <span class="o">-</span><span class="nx">i</span><span class="err">：交互式操作，一个是</span> <span class="o">-</span><span class="nx">t</span> <span class="err">终端。我们这里打算进入</span> <span class="nx">bash</span> <span class="err">执行一些命令并查看返回结果，因此我们需要交互式终端。</span>
<span class="o">--</span><span class="nx">rm</span><span class="err">：这个参数是说容器退出后随之将其删除。默认情况下，为了排障需求，退出的容器并不会立即删除，除非手动</span> <span class="nx">docker</span> <span class="nx">rm</span><span class="err">。我们这里只是随便执行个命令，看看结果，不需要排障和保留结果，因此使用</span> <span class="o">--</span><span class="nx">rm</span> <span class="err">可以避免浪费空间。</span>
<span class="nx">ubuntu</span><span class="p">:</span><span class="mf">16.04</span><span class="err">：这是指用</span> <span class="nx">ubuntu</span><span class="p">:</span><span class="mf">16.04</span> <span class="err">镜像为基础来启动容器。</span>
<span class="nx">bash</span><span class="err">：放在镜像名后的是命令，这里我们希望有个交互式</span> <span class="nx">Shell</span><span class="err">，因此用的是</span> <span class="nx">bash</span><span class="err">。</span></code></pre></figure>

<h2 id="列出镜像">列出镜像</h2>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">$</span> <span class="nx">docker</span> <span class="nx">image</span> <span class="nx">ls</span>

<span class="nx">REPOSITORY</span>           <span class="nx">TAG</span>                 <span class="nx">IMAGE</span> <span class="nx">ID</span>            <span class="nx">CREATED</span>             <span class="nx">SIZE</span>
<span class="nx">redis</span>                <span class="nx">latest</span>              <span class="mi">5</span><span class="nx">f515359c7f8</span>        <span class="mi">5</span> <span class="nx">days</span> <span class="nx">ago</span>          <span class="mi">183</span> <span class="nx">MB</span>
<span class="nx">nginx</span>                <span class="nx">latest</span>              <span class="mi">05</span><span class="nx">a60462f8ba</span>        <span class="mi">5</span> <span class="nx">days</span> <span class="nx">ago</span>          <span class="mi">181</span> <span class="nx">MB</span>
<span class="nx">mongo</span>                <span class="mf">3.2</span>                 <span class="nx">fe9198c04d62</span>        <span class="mi">5</span> <span class="nx">days</span> <span class="nx">ago</span>          <span class="mi">342</span> <span class="nx">MB</span>
<span class="o">&lt;</span><span class="nx">none</span><span class="o">&gt;</span>               <span class="o">&lt;</span><span class="nx">none</span><span class="o">&gt;</span>              <span class="mi">00285</span><span class="nx">df0df87</span>        <span class="mi">5</span> <span class="nx">days</span> <span class="nx">ago</span>          <span class="mi">342</span> <span class="nx">MB</span>
<span class="nx">ubuntu</span>               <span class="mf">16.04</span>               <span class="nx">f753707788c5</span>        <span class="mi">4</span> <span class="nx">weeks</span> <span class="nx">ago</span>         <span class="mi">127</span> <span class="nx">MB</span>
<span class="nx">ubuntu</span>               <span class="nx">latest</span>              <span class="nx">f753707788c5</span>        <span class="mi">4</span> <span class="nx">weeks</span> <span class="nx">ago</span>         <span class="mi">127</span> <span class="nx">MB</span>
<span class="nx">ubuntu</span>               <span class="mf">14.04</span>               <span class="mi">1</span><span class="nx">e0c3dd64ccd</span>        <span class="mi">4</span> <span class="nx">weeks</span> <span class="nx">ago</span>         <span class="mi">188</span> <span class="nx">MB</span></code></pre></figure>

<h2 id="镜像体积">镜像体积</h2>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">$</span> <span class="nx">docker</span> <span class="nx">system</span> <span class="nx">df</span>

<span class="nx">TYPE</span>                <span class="nx">TOTAL</span>               <span class="nx">ACTIVE</span>              <span class="nx">SIZE</span>                <span class="nx">RECLAIMABLE</span>
<span class="nx">Images</span>              <span class="mi">24</span>                  <span class="mi">0</span>                   <span class="mf">1.992</span><span class="nx">GB</span>             <span class="mf">1.992</span><span class="nx">GB</span> <span class="p">(</span><span class="mi">100</span><span class="o">%</span><span class="p">)</span>
<span class="nx">Containers</span>          <span class="mi">1</span>                   <span class="mi">0</span>                   <span class="mf">62.82</span><span class="nx">MB</span>             <span class="mf">62.82</span><span class="nx">MB</span> <span class="p">(</span><span class="mi">100</span><span class="o">%</span><span class="p">)</span>
<span class="nx">Local</span> <span class="nx">Volumes</span>       <span class="mi">9</span>                   <span class="mi">0</span>                   <span class="mf">652.2</span><span class="nx">MB</span>             <span class="mf">652.2</span><span class="nx">MB</span> <span class="p">(</span><span class="mi">100</span><span class="o">%</span><span class="p">)</span>
<span class="nx">Build</span> <span class="nx">Cache</span>                                                 <span class="mi">0</span><span class="nx">B</span>                  <span class="mi">0</span><span class="nx">B</span></code></pre></figure>

<h2 id="虚悬镜像">虚悬镜像</h2>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">$</span> <span class="nx">docker</span> <span class="nx">image</span> <span class="nx">ls</span> <span class="o">-</span><span class="nx">f</span> <span class="nx">dangling</span><span class="o">=</span><span class="kc">true</span>

<span class="nx">REPOSITORY</span>          <span class="nx">TAG</span>                 <span class="nx">IMAGE</span> <span class="nx">ID</span>            <span class="nx">CREATED</span>             <span class="nx">SIZE</span>
<span class="o">&lt;</span><span class="nx">none</span><span class="o">&gt;</span>              <span class="o">&lt;</span><span class="nx">none</span><span class="o">&gt;</span>              <span class="mi">00285</span><span class="nx">df0df87</span>        <span class="mi">5</span> <span class="nx">days</span> <span class="nx">ago</span>          <span class="mi">342</span> <span class="nx">MB</span>

<span class="c1">// delete</span>
<span class="nx">$</span> <span class="nx">docker</span> <span class="nx">image</span> <span class="nx">prune</span></code></pre></figure>

<h2 id="中间层镜像">中间层镜像</h2>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">$</span> <span class="nx">docker</span> <span class="nx">image</span> <span class="nx">ls</span> <span class="o">-</span><span class="nx">a</span></code></pre></figure>

<h2 id="列出部分镜像">列出部分镜像</h2>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="c1">// 根据仓库名列出镜像</span>
<span class="nx">$</span> <span class="nx">docker</span> <span class="nx">image</span> <span class="nx">ls</span> <span class="nx">ubuntu</span>

<span class="nx">REPOSITORY</span>          <span class="nx">TAG</span>                 <span class="nx">IMAGE</span> <span class="nx">ID</span>            <span class="nx">CREATED</span>             <span class="nx">SIZE</span>
<span class="nx">ubuntu</span>              <span class="mf">16.04</span>               <span class="nx">f753707788c5</span>        <span class="mi">4</span> <span class="nx">weeks</span> <span class="nx">ago</span>         <span class="mi">127</span> <span class="nx">MB</span>
<span class="nx">ubuntu</span>              <span class="nx">latest</span>              <span class="nx">f753707788c5</span>        <span class="mi">4</span> <span class="nx">weeks</span> <span class="nx">ago</span>         <span class="mi">127</span> <span class="nx">MB</span>
<span class="nx">ubuntu</span>              <span class="mf">14.04</span>               <span class="mi">1</span><span class="nx">e0c3dd64ccd</span>        <span class="mi">4</span> <span class="nx">weeks</span> <span class="nx">ago</span>         <span class="mi">188</span> <span class="nx">MB</span>


<span class="c1">// 列出特定的某个镜像，也就是说指定仓库名和标签</span>
<span class="nx">$</span> <span class="nx">docker</span> <span class="nx">image</span> <span class="nx">ls</span> <span class="nx">ubuntu</span><span class="p">:</span><span class="mf">16.04</span>

<span class="nx">REPOSITORY</span>          <span class="nx">TAG</span>                 <span class="nx">IMAGE</span> <span class="nx">ID</span>            <span class="nx">CREATED</span>             <span class="nx">SIZE</span>
<span class="nx">ubuntu</span>              <span class="mf">16.04</span>               <span class="nx">f753707788c5</span>        <span class="mi">4</span> <span class="nx">weeks</span> <span class="nx">ago</span>         <span class="mi">127</span> <span class="nx">MB</span>


<span class="c1">// since 或 before</span>
<span class="nx">$</span> <span class="nx">docker</span> <span class="nx">image</span> <span class="nx">ls</span> <span class="o">-</span><span class="nx">f</span> <span class="nx">since</span><span class="o">=</span><span class="nx">mongo</span><span class="p">:</span><span class="mf">3.2</span>

<span class="nx">REPOSITORY</span>          <span class="nx">TAG</span>                 <span class="nx">IMAGE</span> <span class="nx">ID</span>            <span class="nx">CREATED</span>             <span class="nx">SIZE</span>
<span class="nx">redis</span>               <span class="nx">latest</span>              <span class="mi">5</span><span class="nx">f515359c7f8</span>        <span class="mi">5</span> <span class="nx">days</span> <span class="nx">ago</span>          <span class="mi">183</span> <span class="nx">MB</span>
<span class="nx">nginx</span>               <span class="nx">latest</span>              <span class="mi">05</span><span class="nx">a60462f8ba</span>        <span class="mi">5</span> <span class="nx">days</span> <span class="nx">ago</span>          <span class="mi">181</span> <span class="nx">MB</span>


<span class="c1">// label</span>
<span class="nx">$</span> <span class="nx">docker</span> <span class="nx">image</span> <span class="nx">ls</span> <span class="o">-</span><span class="nx">f</span> <span class="nx">label</span><span class="o">=</span><span class="nx">com</span><span class="p">.</span><span class="nx">example</span><span class="p">.</span><span class="nx">version</span><span class="o">=</span><span class="mf">0.1</span></code></pre></figure>

<h2 id="以特定格式显示">以特定格式显示</h2>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">$</span> <span class="nx">docker</span> <span class="nx">image</span> <span class="nx">ls</span> <span class="o">-</span><span class="nx">q</span>

<span class="mi">5</span><span class="nx">f515359c7f8</span>
<span class="mi">05</span><span class="nx">a60462f8ba</span>
<span class="nx">fe9198c04d62</span>
<span class="mi">00285</span><span class="nx">df0df87</span>
<span class="nx">f753707788c5</span>
<span class="nx">f753707788c5</span>

<span class="c1">// 直接列出镜像结果，并且只包含镜像ID和仓库名</span>
<span class="nx">$</span> <span class="nx">docker</span> <span class="nx">image</span> <span class="nx">ls</span> <span class="o">--</span><span class="nx">format</span> <span class="s2">": "</span>

<span class="mi">5</span><span class="nx">f515359c7f8</span><span class="p">:</span> <span class="nx">redis</span>
<span class="mi">05</span><span class="nx">a60462f8ba</span><span class="p">:</span> <span class="nx">nginx</span>
<span class="nx">fe9198c04d62</span><span class="p">:</span> <span class="nx">mongo</span>
<span class="mi">00285</span><span class="nx">df0df87</span><span class="p">:</span> <span class="o">&lt;</span><span class="nx">none</span><span class="o">&gt;</span>
<span class="nx">f753707788c5</span><span class="p">:</span> <span class="nx">ubuntu</span>
<span class="nx">f753707788c5</span><span class="p">:</span> <span class="nx">ubuntu</span>
<span class="mi">1</span><span class="nx">e0c3dd64ccd</span><span class="p">:</span> <span class="nx">ubuntu</span>

<span class="c1">// 表格等距显示，并且有标题行，和默认一样，不过自己定义列：</span>
<span class="nx">$</span> <span class="nx">docker</span> <span class="nx">image</span> <span class="nx">ls</span> <span class="o">--</span><span class="nx">format</span> <span class="s2">"table </span><span class="err">\</span><span class="s2">t</span><span class="err">\</span><span class="s2">t"</span>

<span class="nx">IMAGE</span> <span class="nx">ID</span>            <span class="nx">REPOSITORY</span>          <span class="nx">TAG</span>
<span class="mi">5</span><span class="nx">f515359c7f8</span>        <span class="nx">redis</span>               <span class="nx">latest</span>
<span class="mi">05</span><span class="nx">a60462f8ba</span>        <span class="nx">nginx</span>               <span class="nx">latest</span>
<span class="nx">fe9198c04d62</span>        <span class="nx">mongo</span>               <span class="mf">3.2</span>
<span class="mi">00285</span><span class="nx">df0df87</span>        <span class="o">&lt;</span><span class="nx">none</span><span class="o">&gt;</span>              <span class="o">&lt;</span><span class="nx">none</span><span class="o">&gt;</span>
<span class="nx">f753707788c5</span>        <span class="nx">ubuntu</span>              <span class="mf">16.04</span>
<span class="nx">f753707788c5</span>        <span class="nx">ubuntu</span>              <span class="nx">latest</span>
<span class="mi">1</span><span class="nx">e0c3dd64ccd</span>        <span class="nx">ubuntu</span>              <span class="mf">14.04</span></code></pre></figure>

<h2 id="删除本地镜像">删除本地镜像</h2>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">$</span> <span class="nx">docker</span> <span class="nx">image</span> <span class="nx">rm</span> <span class="p">[</span><span class="err">选项</span><span class="p">]</span> <span class="o">&lt;</span><span class="err">镜像</span><span class="mi">1</span><span class="o">&gt;</span> <span class="p">[</span><span class="o">&lt;</span><span class="err">镜像</span><span class="mi">2</span><span class="o">&gt;</span> <span class="p">...]</span></code></pre></figure>

<h3 id="用-id镜像名摘要删除镜像">用 ID、镜像名、摘要删除镜像</h3>
<p>其中，<镜像> 可以是 镜像短 ID、镜像长 ID、镜像名 或者 镜像摘要。</镜像></p>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">$</span> <span class="nx">docker</span> <span class="nx">image</span> <span class="nx">ls</span>

<span class="nx">REPOSITORY</span>                  <span class="nx">TAG</span>                 <span class="nx">IMAGE</span> <span class="nx">ID</span>            <span class="nx">CREATED</span>             <span class="nx">SIZE</span>
<span class="nx">centos</span>                      <span class="nx">latest</span>              <span class="mi">0584</span><span class="nx">b3d2cf6d</span>        <span class="mi">3</span> <span class="nx">weeks</span> <span class="nx">ago</span>         <span class="mf">196.5</span> <span class="nx">MB</span>
<span class="nx">redis</span>                       <span class="nx">alpine</span>              <span class="mi">501</span><span class="nx">ad78535f0</span>        <span class="mi">3</span> <span class="nx">weeks</span> <span class="nx">ago</span>         <span class="mf">21.03</span> <span class="nx">MB</span>
<span class="nx">docker</span>                      <span class="nx">latest</span>              <span class="nx">cf693ec9b5c7</span>        <span class="mi">3</span> <span class="nx">weeks</span> <span class="nx">ago</span>         <span class="mf">105.1</span> <span class="nx">MB</span>
<span class="nx">nginx</span>                       <span class="nx">latest</span>              <span class="nx">e43d811ce2f4</span>        <span class="mi">5</span> <span class="nx">weeks</span> <span class="nx">ago</span>         <span class="mf">181.5</span> <span class="nx">MB</span>

<span class="nx">$</span> <span class="nx">docker</span> <span class="nx">image</span> <span class="nx">rm</span> <span class="mi">501</span>

<span class="nx">Untagged</span><span class="p">:</span> <span class="nx">redis</span><span class="p">:</span><span class="nx">alpine</span>
<span class="nx">Untagged</span><span class="p">:</span> <span class="nx">redis</span><span class="p">@</span><span class="nd">sha256</span><span class="p">:</span><span class="nx">f1ed3708f538b537eb9c2a7dd50dc90a706f7debd7e1196c9264edeea521a86d</span>
<span class="nx">Deleted</span><span class="p">:</span> <span class="nx">sha256</span><span class="p">:</span><span class="mi">501</span><span class="nx">ad78535f015d88872e13fa87a828425117e3d28075d0c117932b05bf189b7</span>
<span class="nx">Deleted</span><span class="p">:</span> <span class="nx">sha256</span><span class="p">:</span><span class="mi">96167737</span><span class="nx">e29ca8e9d74982ef2a0dda76ed7b430da55e321c071f0dbff8c2899b</span>
<span class="nx">Deleted</span><span class="p">:</span> <span class="nx">sha256</span><span class="p">:</span><span class="mi">32770</span><span class="nx">d1dcf835f192cafd6b9263b7b597a1778a403a109e2cc2ee866f74adf23</span>
<span class="nx">Deleted</span><span class="p">:</span> <span class="nx">sha256</span><span class="p">:</span><span class="mi">127227698</span><span class="nx">ad74a5846ff5153475e03439d96d4b1c7f2a449c7a826ef74a2d2fa</span>
<span class="nx">Deleted</span><span class="p">:</span> <span class="nx">sha256</span><span class="p">:</span><span class="mi">1333</span><span class="nx">ecc582459bac54e1437335c0816bc17634e131ea0cc48daa27d32c75eab3</span>
<span class="nx">Deleted</span><span class="p">:</span> <span class="nx">sha256</span><span class="p">:</span><span class="mi">4</span><span class="nx">fc455b921edf9c4aea207c51ab39b10b06540c8b4825ba57b3feed1668fa7c7</span>


<span class="err">镜像名，</span><span class="o">&lt;</span><span class="err">仓库名</span><span class="o">&gt;</span><span class="p">:</span><span class="o">&lt;</span><span class="err">标签</span><span class="o">&gt;</span><span class="err">，来删除镜像</span>
<span class="nx">$</span> <span class="nx">docker</span> <span class="nx">image</span> <span class="nx">rm</span> <span class="nx">centos</span>

<span class="nx">Untagged</span><span class="p">:</span> <span class="nx">centos</span><span class="p">:</span><span class="nx">latest</span>
<span class="nx">Untagged</span><span class="p">:</span> <span class="nx">centos</span><span class="p">@</span><span class="nd">sha256</span><span class="p">:</span><span class="nx">b2f9d1c0ff5f87a4743104d099a3d561002ac500db1b9bfa02a783a46e0d366c</span>
<span class="nx">Deleted</span><span class="p">:</span> <span class="nx">sha256</span><span class="p">:</span><span class="mi">0584</span><span class="nx">b3d2cf6d235ee310cf14b54667d889887b838d3f3d3033acd70fc3c48b8a</span>
<span class="nx">Deleted</span><span class="p">:</span> <span class="nx">sha256</span><span class="p">:</span><span class="mi">97</span><span class="nx">ca462ad9eeae25941546209454496e1d66749d53dfa2ee32bf1faabd239d38</span>


<span class="err">使用</span> <span class="err">镜像摘要</span> <span class="err">删除镜像。</span>
<span class="nx">docker</span> <span class="nx">image</span> <span class="nx">ls</span> <span class="o">--</span><span class="nx">digests</span>
<span class="nx">REPOSITORY</span>                  <span class="nx">TAG</span>                 <span class="nx">DIGEST</span>                                                                    <span class="nx">IMAGE</span> <span class="nx">ID</span>            <span class="nx">CREATED</span>             <span class="nx">SIZE</span>
<span class="nx">node</span>                        <span class="nx">slim</span>                <span class="nx">sha256</span><span class="p">:</span><span class="nx">b4f0e0bdeb578043c1ea6862f0d40cc4afe32a4a582f3be235a3b164422be228</span>   <span class="mi">6</span><span class="nx">e0c4c8e3913</span>        <span class="mi">3</span> <span class="nx">weeks</span> <span class="nx">ago</span>         <span class="mi">214</span> <span class="nx">MB</span>

<span class="nx">$</span> <span class="nx">docker</span> <span class="nx">image</span> <span class="nx">rm</span> <span class="nx">node</span><span class="p">@</span><span class="nd">sha256</span><span class="p">:</span><span class="nx">b4f0e0bdeb578043c1ea6862f0d40cc4afe32a4a582f3be235a3b164422be228</span>
<span class="nx">Untagged</span><span class="p">:</span> <span class="nx">node</span><span class="p">@</span><span class="nd">sha256</span><span class="p">:</span><span class="nx">b4f0e0bdeb578043c1ea6862f0d40cc4afe32a4a582f3be235a3b164422be228</span></code></pre></figure>

<h2 id="用-docker-image-ls-命令来配合">用 docker image ls 命令来配合</h2>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="c1">// 删除所有仓库名为 redis 的镜像</span>
<span class="nx">$</span> <span class="nx">docker</span> <span class="nx">image</span> <span class="nx">rm</span> <span class="nx">$</span><span class="p">(</span><span class="nx">docker</span> <span class="nx">image</span> <span class="nx">ls</span> <span class="o">-</span><span class="nx">q</span> <span class="nx">redis</span><span class="p">)</span>

<span class="c1">// 删除所有在 mongo:3.2 之前的镜像：</span>
<span class="nx">$</span> <span class="nx">docker</span> <span class="nx">image</span> <span class="nx">rm</span> <span class="nx">$</span><span class="p">(</span><span class="nx">docker</span> <span class="nx">image</span> <span class="nx">ls</span> <span class="o">-</span><span class="nx">q</span> <span class="o">-</span><span class="nx">f</span> <span class="nx">before</span><span class="o">=</span><span class="nx">mongo</span><span class="p">:</span><span class="mf">3.2</span><span class="p">)</span></code></pre></figure>


  </article>

</div>

      </div>
    </div>

  </body>

</html>
